---

layout:     post
title:     Linux基础（一）
subtitle:  用户与组管理、权限管理、
date:       2020-7-11
author:     One-Punch-Man
header-img: "img/man-6.jpg"
catalog: true
tags: 
     - Linux
     - Centos
---



## 用户与组管理

### 用户管理

- `useradd`:新建用户；语法：`useradd [选项] 用户名`，常用选项：
  - `-u`：在建立用户的时候指定用户的`UID`；（普通用户为500-60000）；
  - `-d`：指定用户的家目录；
  - `-c 说明`：添加说明；
  - `-g`：指定用户创建的初始所属组；（组必须先存在）
  - `-e`：指定用户失效日期；
  - `-s`：指定登陆Shell；
  - `-G`：指定用户的附属组；
  - `-D`：查看`/etc/default/useradd`下的配置文件（新用户默认选项）。
- `usermod`：修改用户，语法：`useradd [选项] 用户名`，常用选项：
  - `-u`：修改用户的`UID`；（普通用户为500-60000）；
  - `-d`：修改用户的家目录；
  - `-c 说明`：修改说明；
  - `-g`：修改用户创建的初始所属组；（组必须先存在）
  - `-e`：修改用户失效日期；
  - `-s`：修改登陆Shell；
  - `-G`：修改用户的附属组；
  - `-L`：上锁（lock）；
  - `-U`：解锁（unlock）；
- `userdel`：删除用户；语法：`userdel [选项-r] 用户名`：不加`-r`只删除用户，加上表示连同用户家目录一起删除。
- `passwd`：修改用户密码，语法：`passwd [选项] 用户名`；常用选项：
  - `-S`：查看用户密码详细信息；（只有root有权限操作）；
  - `-l`：上锁；（只有root可以操作）
  - `-u`：解锁；（只有root可以操作）
  - `-x`：设置密码的有效期；
  - `-n`：设置修改密码后多久前不能再修改；
- `chage`：修改用户密码状态；语法：`chage [选项] 用户名`；常用选项：
  - `-l 用户`：列出用户密码的详细信息；
  - `-m 天数`:密码可以更改的最小天数；
  - `-M 天数`：密码有效期；
  - `-w`：密码到期前，提前收到警告信息的天数；
  - `-E`：密码到期日期；
  - `-d`：上一次修改密码的时间，`-d 0`强制第一次登陆后必须修改密码；



### 组管理

- `groupadd`：创建组，语法：`groupadd [选项] 组名`，常用选项为：
  - `-g`：指定组的id；
  - `-r`：创建系统组（组id小于500）；
- `groupmod`：修改组，语法：`groupmod [选项] 组名`：常用选项：
  - `-g 数字`：修改组id；
  - `-n`：修改组名；
- `groupdel`：删除组，语法：`groupdel 组名`；



### 相关配置文件

|  配置文件信息  |                文件名称                 |
| :------------: | :-------------------------------------: |
|  用户信息文件  |               /etc/passwd               |
|    密码文件    |               /etc/shadow               |
|   用户组文件   |               /etc/group                |
| 用户组密码文件 |              /etc/gshadow               |
|  用户配置文件  | /etc/login.defs ,  /etc/default/useradd |
| 新用户信息文件 |                /etc/skel                |
|    登录信息    |                /etc/motd                |



## 权限管理

| 权限字符 | 权限     | 对文件的权限意义           | 对目录的权限意义           |
| :------- | :------- | :------------------------- | :------------------------- |
| r        | 读权限   | 可以查看文件内容           | 可以列出目中的内容         |
| w        | 写权限   | 可以修改文件内容           | 可以在目录中创建和删除文件 |
| x        | 执行权限 | 可以执行文件(如命令、脚本) | 可以进入目录               |



- 